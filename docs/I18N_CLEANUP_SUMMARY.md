# å›½é™…åŒ–è„šæœ¬æ¸…ç†æ€»ç»“

## ğŸ§¹ æ¸…ç†æ¦‚è§ˆ

æœ¬æ¬¡æ¸…ç†ç§»é™¤äº†å†—ä½™çš„å›½é™…åŒ–è„šæœ¬ï¼Œç»Ÿä¸€ä½¿ç”¨ `i18n-smart.js` ä½œä¸ºå”¯ä¸€çš„å›½é™…åŒ–ç®¡ç†å·¥å…·ï¼Œå¤§å¹…ç®€åŒ–äº†é¡¹ç›®ç»“æ„å’Œç»´æŠ¤å¤æ‚åº¦ã€‚

## ğŸ—‘ï¸ å·²åˆ é™¤çš„æ–‡ä»¶

### è„šæœ¬æ–‡ä»¶
1. **`scripts/i18n-cli.js`** (514 è¡Œ)
   - æ—§çš„ CLI å·¥å…·
   - åŠŸèƒ½å·²è¢« `i18n-smart.js` å®Œå…¨è¦†ç›–
   - åŒ…å«ï¼švalidateã€syncã€extractã€typesã€add ç­‰å‘½ä»¤

2. **`scripts/generate-i18n-types.js`** (219 è¡Œ)
   - ç‹¬ç«‹çš„ç±»å‹ç”Ÿæˆå™¨
   - åŠŸèƒ½å·²é›†æˆåˆ° `i18n-smart.js` ä¸­
   - æä¾› TypeScript ç±»å‹å®šä¹‰ç”Ÿæˆ

3. **`scripts/webpack-i18n-plugin.js`** (367 è¡Œ)
   - Webpack æ„å»ºæ—¶éªŒè¯æ’ä»¶
   - åŠŸèƒ½ä¸ `i18n-smart.js` é‡å¤
   - åœ¨æ„å»ºè¿‡ç¨‹ä¸­è¿›è¡Œç¿»è¯‘éªŒè¯

4. **`scripts/eslint-plugin-i18n.js`** (338 è¡Œ)
   - ESLint å›½é™…åŒ–è§„åˆ™æ’ä»¶
   - æ£€æµ‹ç¡¬ç¼–ç æ–‡æœ¬å’Œæ— æ•ˆç¿»è¯‘é”®
   - æœªåœ¨ä¸» ESLint é…ç½®ä¸­ä½¿ç”¨

### é…ç½®æ–‡ä»¶
5. **`.eslintrc.i18n.js`** (73 è¡Œ)
   - ESLint å›½é™…åŒ–ä¸“ç”¨é…ç½®
   - æœªè¢«ä¸»é…ç½®æ–‡ä»¶å¼•ç”¨
   - åŒ…å« i18n ç‰¹å®šçš„ lint è§„åˆ™

## ğŸ“ é…ç½®æ›´æ–°

### package.json è„šæœ¬æ›´æ–°

**æ›´æ–°å‰ï¼š**
```json
{
  "i18n:validate": "node scripts/i18n-cli.js validate",
  "i18n:sync": "node scripts/i18n-cli.js sync",
  "i18n:extract": "node scripts/i18n-cli.js extract",
  "i18n:types": "node scripts/i18n-cli.js types",
  "i18n:add": "node scripts/i18n-cli.js add",
  "i18n:all": "npm run i18n:extract && npm run i18n:sync && npm run i18n:types && npm run i18n:validate"
}
```

**æ›´æ–°åï¼š**
```json
{
  "i18n:validate": "node scripts/i18n-smart.js check --dry-run",
  "i18n:sync": "node scripts/i18n-smart.js check",
  "i18n:extract": "node scripts/i18n-smart.js check",
  "i18n:types": "node scripts/i18n-smart.js check --no-auto-fix",
  "i18n:add": "node scripts/i18n-smart.js dev",
  "i18n:all": "node scripts/i18n-smart.js check --verbose"
}
```

### next.config.js æ›´æ–°

**ç§»é™¤äº†ï¼š**
- `WebpackI18nPlugin` çš„å¼•ç”¨å’Œé…ç½®
- æ„å»ºæ—¶çš„ i18n éªŒè¯æ’ä»¶

**åŸå› ï¼š**
- é¿å…æ„å»ºè¿‡ç¨‹ä¸­çš„é‡å¤éªŒè¯
- ä½¿ç”¨ `i18n-smart.js` åœ¨æ„å»ºå‰è¿›è¡Œæ£€æŸ¥æ›´é«˜æ•ˆ

### i18n.config.js ç®€åŒ–

**ç§»é™¤äº†ï¼š**
- `eslint` é…ç½®éƒ¨åˆ†ï¼ˆ47 è¡Œï¼‰
- `webpack` é…ç½®éƒ¨åˆ†ï¼ˆ6 è¡Œï¼‰

**ä¿ç•™äº†ï¼š**
- åŸºç¡€é…ç½®ï¼ˆmessagesDirã€locales ç­‰ï¼‰
- éªŒè¯é…ç½®
- ç¿»è¯‘è´¨é‡æ£€æŸ¥
- è‡ªåŠ¨åŒ–é…ç½®
- å¼€å‘å·¥å…·é…ç½®
- æ€§èƒ½ä¼˜åŒ–é…ç½®
- æ‰©å±•é…ç½®

## âœ… ä¿ç•™çš„æ–‡ä»¶

### æ ¸å¿ƒè„šæœ¬
1. **`scripts/i18n-smart.js`** - ç»Ÿä¸€çš„å›½é™…åŒ–ç®¡ç†å·¥å…·
   - æ™ºèƒ½æ£€æµ‹å’Œä¿®å¤
   - è¿›åº¦æ˜¾ç¤ºå’Œé”™è¯¯å¤„ç†
   - å¤šç§è¿è¡Œæ¨¡å¼
   - å®Œæ•´çš„å‘½ä»¤è¡Œç•Œé¢

2. **`scripts/setup-git-hooks.js`** - Git é’©å­è®¾ç½®
   - ä¸å›½é™…åŒ–æ— å…³ï¼Œä¿ç•™

## ğŸ¯ æ¸…ç†æ•ˆæœ

### ä»£ç è¡Œæ•°å‡å°‘
- **åˆ é™¤æ€»è¡Œæ•°ï¼š** 1,511 è¡Œ
- **åŠŸèƒ½é‡å¤æ¶ˆé™¤ï¼š** 100%
- **ç»´æŠ¤å¤æ‚åº¦ï¼š** æ˜¾è‘—é™ä½

### åŠŸèƒ½ç»Ÿä¸€
| åŠŸèƒ½ | æ¸…ç†å‰ | æ¸…ç†å |
|------|--------|--------|
| ç¿»è¯‘é”®æ£€æµ‹ | 3 ä¸ªè„šæœ¬ | 1 ä¸ªè„šæœ¬ |
| ç±»å‹ç”Ÿæˆ | 2 ä¸ªè„šæœ¬ | 1 ä¸ªè„šæœ¬ |
| éªŒè¯åŠŸèƒ½ | 3 ä¸ªè„šæœ¬ | 1 ä¸ªè„šæœ¬ |
| é…ç½®æ–‡ä»¶ | 4 ä¸ªæ–‡ä»¶ | 1 ä¸ªæ–‡ä»¶ |

### æ€§èƒ½æå‡
- **å¯åŠ¨é€Ÿåº¦ï¼š** æ›´å¿«ï¼ˆå‡å°‘æ–‡ä»¶åŠ è½½ï¼‰
- **å†…å­˜ä½¿ç”¨ï¼š** æ›´å°‘ï¼ˆé¿å…é‡å¤åŠŸèƒ½ï¼‰
- **ç»´æŠ¤æˆæœ¬ï¼š** æ›´ä½ï¼ˆå•ä¸€å…¥å£ç‚¹ï¼‰

## ğŸ”„ å‘½ä»¤æ˜ å°„

| æ—§å‘½ä»¤ | æ–°å‘½ä»¤ | è¯´æ˜ |
|--------|--------|------|
| `npm run i18n:validate` | `i18n-smart.js check --dry-run` | ä»…éªŒè¯ï¼Œä¸ä¿®å¤ |
| `npm run i18n:sync` | `i18n-smart.js check` | æ£€æµ‹å¹¶è‡ªåŠ¨ä¿®å¤ |
| `npm run i18n:extract` | `i18n-smart.js check` | æå–å¹¶æ£€æµ‹ç¿»è¯‘é”® |
| `npm run i18n:types` | `i18n-smart.js check --no-auto-fix` | ç”Ÿæˆç±»å‹å®šä¹‰ |
| `npm run i18n:add` | `i18n-smart.js dev` | äº¤äº’å¼æ·»åŠ ç¿»è¯‘ |
| `npm run i18n:all` | `i18n-smart.js check --verbose` | å®Œæ•´æ£€æŸ¥å’Œä¿®å¤ |

## ğŸš€ ä½¿ç”¨å»ºè®®

### æ—¥å¸¸å¼€å‘
```bash
# å¿«é€Ÿæ£€æŸ¥
npm run i18n:check

# è¯¦ç»†æ£€æŸ¥
npm run i18n:check:verbose

# ä»…éªŒè¯ï¼ˆä¸ä¿®å¤ï¼‰
npm run i18n:validate
```

### CI/CD é›†æˆ
```bash
# CI ç¯å¢ƒæ£€æŸ¥
npm run i18n:check:ci

# æ„å»ºå‰éªŒè¯
npm run i18n:validate
```

### äº¤äº’å¼å¼€å‘
```bash
# æ·»åŠ æ–°ç¿»è¯‘
npm run i18n:add

# å¼€å‘æ¨¡å¼
npm run i18n:dev
```

## ğŸ“Š å…¼å®¹æ€§ä¿è¯

âœ… **å‘åå…¼å®¹**
- æ‰€æœ‰åŸæœ‰çš„ npm è„šæœ¬å‘½ä»¤ä»ç„¶å¯ç”¨
- åŠŸèƒ½è¡Œä¸ºä¿æŒä¸€è‡´
- è¾“å‡ºæ ¼å¼æ›´åŠ å‹å¥½

âœ… **åŠŸèƒ½å¢å¼º**
- æ›´å¥½çš„é”™è¯¯å¤„ç†
- è¿›åº¦æ˜¾ç¤º
- è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯
- å¤šç§è¿è¡Œæ¨¡å¼

## ğŸ‰ æ€»ç»“

é€šè¿‡è¿™æ¬¡æ¸…ç†ï¼Œæˆ‘ä»¬ï¼š

1. **ç®€åŒ–äº†æ¶æ„** - ä» 5 ä¸ªè„šæœ¬æ–‡ä»¶å‡å°‘åˆ° 1 ä¸ª
2. **ç»Ÿä¸€äº†å…¥å£** - æ‰€æœ‰å›½é™…åŒ–æ“ä½œé€šè¿‡ `i18n-smart.js`
3. **æå‡äº†ä½“éªŒ** - æ›´å¥½çš„ç”¨æˆ·ç•Œé¢å’Œé”™è¯¯å¤„ç†
4. **ä¿æŒäº†å…¼å®¹** - æ‰€æœ‰åŸæœ‰å‘½ä»¤ç»§ç»­å·¥ä½œ
5. **é™ä½äº†ç»´æŠ¤æˆæœ¬** - å•ä¸€ä»£ç åº“ï¼Œæ›´å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•

ç°åœ¨é¡¹ç›®æ‹¥æœ‰äº†ä¸€ä¸ªç°ä»£åŒ–ã€é«˜æ•ˆã€æ˜“ç”¨çš„å›½é™…åŒ–ç®¡ç†ç³»ç»Ÿï¼